---
import { ts, type Locale } from "../../i18n";

interface Props {
  locale: Locale;
}

const { locale } = Astro.props;
---

<section class="sect-section py-14 reveal" id="setup">
  <div class="mb-12">
    <p class="text-[0.72rem] font-bold uppercase tracking-[0.14em] text-accent mb-2">{ts(locale, "setupLabel")}</p>
    <h2 class="text-[clamp(1.5rem,3vw,2rem)] font-bold tracking-tight mb-2">{ts(locale, "setupTitle")}</h2>
    <p class="text-[0.95rem] text-txt-2 max-w-[460px]">{ts(locale, "setupSub")}</p>
  </div>

  <div class="flex flex-col gap-8">
    <div class="grid grid-cols-[32px_1fr] gap-4">
      <div class="w-8 h-8 rounded-full bg-txt text-bg flex items-center justify-center text-[0.8rem] font-bold shrink-0">1</div>
      <div class="min-w-0">
        <h3 class="text-base font-bold mb-1.5">{ts(locale, "setupStep1Title")}</h3>
        <p class="text-[0.88rem] text-txt-2 leading-relaxed" set:html={ts(locale, "setupStep1Desc")} />
      </div>
    </div>

    <div class="grid grid-cols-[32px_1fr] gap-4">
      <div class="w-8 h-8 rounded-full bg-txt text-bg flex items-center justify-center text-[0.8rem] font-bold shrink-0">2</div>
      <div class="min-w-0">
        <h3 class="text-base font-bold mb-1.5">{ts(locale, "setupStep2Title")}</h3>
        <pre class="step-term mt-3 bg-bg-code rounded-[10px] px-5 py-4 font-mono text-[0.78rem] text-term-sub leading-[1.9] overflow-x-auto max-w-full m-0"><span class="d">$ </span>npx -y ccpoke
<span class="c">
no config found â€” starting setup wizard...
â”Œ  ğŸ¤– ccpoke setup
â”‚
â—‡  Language
â”‚  English
â”‚
â—‡  Telegram Bot Token
â”‚  ****:ABC-xxx
â”‚
â—‡  âœ“ Bot: @your_bot
â”‚
â—‡  Scan QR or open link to connect:
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚  â–€â–„â–€â–„â–€  â–„â–€â–„â–€â–„   â”‚
â”‚  â”‚  â–ˆ QR Code â–ˆ    â”‚
â”‚  â”‚  â–„â–€â–„â–€â–„  â–€â–„â–€â–„â–€   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  https://t.me/your_bot?start=setup
â”‚
â—‡  Waiting for you to send /start to the bot...
â”‚
â—†  âœ“ Connected! User ID: 123456789
â”‚
â—‡  Select AI agents (space to toggle)
â”‚  Claude Code, Cursor
â”‚
â—†  Config saved
â—†  Hook installed for Claude Code
â—†  Hook installed for Cursor
â—†  Chat ID registered
â”‚
â””  ğŸ‰ Setup complete!

ccpoke: hook server listening on localhost:9377
ccpoke: telegram bot started</span></pre>
        <p class="mt-2.5 text-[0.88rem] text-txt-2 leading-relaxed" set:html={ts(locale, "setupStep2Desc")} />
      </div>
    </div>

    <div class="grid grid-cols-[32px_1fr] gap-4">
      <div class="w-8 h-8 rounded-full bg-txt text-bg flex items-center justify-center text-[0.8rem] font-bold shrink-0">3</div>
      <div class="min-w-0">
        <h3 class="text-base font-bold mb-1.5">{ts(locale, "setupStep3Title")}</h3>
        <p class="text-[0.88rem] text-txt-2 leading-relaxed" set:html={ts(locale, "setupStep3Desc")} />
      </div>
    </div>
  </div>
</section>
